\ProvidesPackage{preamble}

\usepackage[defaultfam]{montserrat}

\usepackage{geometry}
 \geometry{
 a4paper,
 total={170mm,257mm},
 left=20mm,
 bottom=60mm,
 top=25mm,
 }
\usepackage{graphicx} 
\usepackage{fancyhdr}
\renewcommand{\headrulewidth}{0pt}
\usepackage{amssymb}
\usepackage[most]{tcolorbox}
\usepackage{afterpage}
\usepackage{minted}
\tcbuselibrary{minted}

\usepackage{eurosym}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage[onehalfspacing]{setspace}
\usepackage{chngcntr}
\usepackage{graphicx}
\usepackage[english]{babel}
\usepackage{titlesec}
\usepackage{enumitem}
\usepackage{etoolbox}
\usepackage{csquotes}
\usepackage[printonlyused]{acronym}
\usepackage{cite}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{listings}
\usepackage{booktabs}
\usepackage{microtype} 
\usepackage{xcolor}
\usepackage{url}
\usepackage[bottom, flushmargin]{footmisc}
\usepackage[useregional]{datetime2}

\renewcommand*\oldstylenums[1]{{\fontfamily{Montserrat-TOsF}\selectfont #1}}

\setlength{\headsep}{1in}

\newcommand\blankpage{%
    \pagebreak
    \null
    \thispagestyle{empty}%
    \addtocounter{page}{-1}%
    \newpage}

\let\olddocument=\document
\let\oldenddocument=\enddocument

\renewcommand{\title}[1]{\gdef\thetitle{#1}}

\newcommand{\supervisors}[1]{
    \gdef\thesupervisors{#1}
}

\newcommand{\candidate}[1]{\gdef\thecandidate{#1}}

\newcommand{\program}[1]{\gdef\theprogram{#1}}

\renewenvironment{document}{\olddocument
\pagestyle{fancy}
\fancyhead{}
\fancyhead[C]{
    \includegraphics[width=0.4\linewidth]{images/ista.png}
}
\begin{center}

\vspace*{35pt}

\noindent\large{\Large\fontseries{extrabold}\selectfont Research Project Proposal and Project Execution Plan}   

\vspace{5pt}\hfill

\noindent{\large\theprogram}

\vspace{50pt}\hfill

\noindent\textbf{\thetitle}

\vspace{50pt}\hfill
    
\noindent\textbf{\textsc{Supervisor(s):}}

\thesupervisors

\vspace{50pt}\hfill

\noindent\textbf{\textsc{Candidate:}}

\noindent\thecandidate

\vspace{\fill}

\noindent{\large Lisbon, \today}

\end{center}
\pagenumbering{gobble}

\pagebreak

\pagenumbering{arabic}
\fancyfoot[c]{\thepage}

}{
\pagebreak
\bibliographystyle{ieeetr}
\renewcommand{\refname}{References}
\bibliography{references}{}
\oldenddocument
}